{"version":3,"names":["kortxyzDrawerCss","KortxyzDrawerStyle0","KortxyzDrawer","this","initResize","document","body","style","cursor","userSelect","window","addEventListener","doResize","stopResize","removeEventListener","e","x","globalStore","state","drawerwidth","Number","margin","maxMinSize","innerWidth","connectedCallback","drawerEl","setProperty","onChange","closeDrawer","classList","remove","setTimeout","addContent","content","add","Promise","resolve","insertAdjacentHTML","componentWillLoad","render","h","Host","key","icon","class","onClick","name","onMouseDown","ondblclick"],"sources":["src/components/kortxyz-drawer/kortxyz-drawer.css?tag=kortxyz-drawer&encapsulation=scoped","src/components/kortxyz-drawer/kortxyz-drawer.tsx"],"sourcesContent":[":host {\n  --drawer-width: 400px;\n  --drawer-margin: 0;\n  position: absolute;\n  display: grid;\n  grid-template-columns: 40px 1fr;\n  grid-template-rows: 40px 1fr;\n  gap: 0px 0px;\n  grid-template-areas:\n    \"Icon Menu\"\n    \"Main Main\";\n  height: 100%;\n  width: var(--drawer-width);\n  max-width: 80vw;\n  background: var(--white);\n  left: calc((var(--drawer-width) + var(--drawer-margin)) * -1);\n  transition: left 100ms;\n  z-index: 3;\n}\n\n:host(.open) {\n  left: var(--drawer-margin);\n}\n\n.menu {\n  display: flex;\n  grid-area: Menu;\n}\n\n.main {\n  display: flex;\n  grid-area: Main;\n  overflow: auto;\n  border-top: 1px solid var(--grey-20);\n}\n.bottom {\n  grid-column-start: 1;\n      grid-column-end: 3;\n      display: flex;\n      justify-content: space-around;\n  }\n\nkortxyz-icon {\n  grid-area: Icon;\n  fill: var(--grey-50);\n}\n\nkortxyz-icon > svg {\n  height: 10px;\n}\n\nkortxyz-icon:hover {\n  fill: var(--grey-80);\n  cursor: pointer;\n}\n\n\n\nresizer {\n  position: absolute;\n  right: 0px;\n  height: 100%;\n  width: 4px;\n  cursor: ew-resize;\n}\n\nresizer:hover {\n  background-color: var(--blue-30)\n}\n\n\n\nloader {\n  border: 4px solid #f3f3f3;\n  border-top: 4px solid #8d8d8d;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}","import { Component, Host, Prop, Method, Element, h } from '@stencil/core';\nimport globalStore from '../../utils/store';\n\n@Component({\n  tag: 'kortxyz-drawer',\n  styleUrl: 'kortxyz-drawer.css',\n  scoped:true,\n})\n\nexport class KortxyzDrawer {\n  @Element() drawerEl: HTMLElement;\n  @Prop() margin = \"0\";\n\n  private initResize = () => {\n    document.body.style.cursor = 'ew-resize';\n    document.body.style.userSelect = \"none\"\n\n    window.addEventListener('mousemove', this.doResize, false);\n    window.addEventListener('mouseup', this.stopResize, false);\n  }\n\n  private stopResize = () => {\n    document.body.style.cursor = '';\n    document.body.style.userSelect = \"all\"\n\n    window.removeEventListener('mousemove', this.doResize, false);\n    window.removeEventListener('mouseup', this.stopResize, false);\n  }\n\n  private doResize = e => {\n    if (e.x > 300) {\n      globalStore.state.drawerwidth = e.x - Number(this.margin)\n    }\n\n  };\n\n  private maxMinSize = () => {\n    if (globalStore.state.drawerwidth <= 400) globalStore.state.drawerwidth = window.innerWidth\n    else if (globalStore.state.drawerwidth > 400) globalStore.state.drawerwidth = 300\n  };\n\n\n  connectedCallback() {\n    this.drawerEl.style.setProperty('--drawer-width', globalStore.state.drawerwidth + \"px\")\n\n    globalStore.onChange(\"drawerwidth\", drawerwidth => {\n      this.drawerEl.style.setProperty('--drawer-width', drawerwidth + \"px\")\n\n    });\n  }\n\n  closeDrawer() {\n    this.drawerEl.classList.remove(\"open\");\n    setTimeout(() => {\n      this.drawerEl.remove()\n    }, 100);\n  }\n\n  @Method()\n  async addContent(content) {\n    this.drawerEl.classList.add(\"open\");\n    await new Promise(resolve => setTimeout(resolve, 100));\n    this.drawerEl.insertAdjacentHTML(\"beforeend\", content);\n\n  }\n\n\n  componentWillLoad() {\n    this.drawerEl.style.setProperty('--drawer-margin', this.margin + \"px\");\n  }\n\n  render() {\n    return (\n      <Host>\n          <kortxyz-icon icon=\"back\" class=\"small\" onClick={() => this.closeDrawer()}></kortxyz-icon>\n          <div class=\"menu\"><slot name=\"menu\"/></div>\n          <div class=\"main\">\n            <slot name=\"main\"></slot>\n          </div>\n          <div class=\"bottom\">\n            <slot name=\"bottom\"></slot>\n          </div>\n        <resizer onMouseDown={() => this.initResize()} ondblclick={() => this.maxMinSize()}></resizer>\n      </Host>\n    );\n  }\n\n}\n"],"mappings":"6FAAA,MAAMA,EAAmB,mwCACzB,MAAAC,EAAeD,E,MCQFE,EAAa,M,yBAIhBC,KAAAC,WAAa,KACnBC,SAASC,KAAKC,MAAMC,OAAS,YAC7BH,SAASC,KAAKC,MAAME,WAAa,OAEjCC,OAAOC,iBAAiB,YAAaR,KAAKS,SAAU,OACpDF,OAAOC,iBAAiB,UAAWR,KAAKU,WAAY,MAAM,EAGpDV,KAAAU,WAAa,KACnBR,SAASC,KAAKC,MAAMC,OAAS,GAC7BH,SAASC,KAAKC,MAAME,WAAa,MAEjCC,OAAOI,oBAAoB,YAAaX,KAAKS,SAAU,OACvDF,OAAOI,oBAAoB,UAAWX,KAAKU,WAAY,MAAM,EAGvDV,KAAAS,SAAWG,IACjB,GAAIA,EAAEC,EAAI,IAAK,CACbC,EAAYC,MAAMC,YAAcJ,EAAEC,EAAII,OAAOjB,KAAKkB,O,GAK9ClB,KAAAmB,WAAa,KACnB,GAAIL,EAAYC,MAAMC,aAAe,IAAKF,EAAYC,MAAMC,YAAcT,OAAOa,gBAC5E,GAAIN,EAAYC,MAAMC,YAAc,IAAKF,EAAYC,MAAMC,YAAc,GAAG,E,YA3BlE,G,CA+BjB,iBAAAK,GACErB,KAAKsB,SAASlB,MAAMmB,YAAY,iBAAkBT,EAAYC,MAAMC,YAAc,MAElFF,EAAYU,SAAS,eAAeR,IAClChB,KAAKsB,SAASlB,MAAMmB,YAAY,iBAAkBP,EAAc,KAAK,G,CAKzE,WAAAS,GACEzB,KAAKsB,SAASI,UAAUC,OAAO,QAC/BC,YAAW,KACT5B,KAAKsB,SAASK,QAAQ,GACrB,I,CAIL,gBAAME,CAAWC,GACf9B,KAAKsB,SAASI,UAAUK,IAAI,cACtB,IAAIC,SAAQC,GAAWL,WAAWK,EAAS,OACjDjC,KAAKsB,SAASY,mBAAmB,YAAaJ,E,CAKhD,iBAAAK,GACEnC,KAAKsB,SAASlB,MAAMmB,YAAY,kBAAmBvB,KAAKkB,OAAS,K,CAGnE,MAAAkB,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACDF,EAAA,gBAAAE,IAAA,2CAAcC,KAAK,OAAOC,MAAM,QAAQC,QAAS,IAAM1C,KAAKyB,gBAC5DY,EAAA,OAAAE,IAAA,2CAAKE,MAAM,QAAOJ,EAAA,QAAAE,IAAA,2CAAMI,KAAK,UAC7BN,EAAA,OAAAE,IAAA,2CAAKE,MAAM,QACTJ,EAAA,QAAAE,IAAA,2CAAMI,KAAK,UAEbN,EAAA,OAAAE,IAAA,2CAAKE,MAAM,UACTJ,EAAA,QAAAE,IAAA,2CAAMI,KAAK,YAEfN,EAAA,WAAAE,IAAA,2CAASK,YAAa,IAAM5C,KAAKC,aAAc4C,WAAY,IAAM7C,KAAKmB,e"}