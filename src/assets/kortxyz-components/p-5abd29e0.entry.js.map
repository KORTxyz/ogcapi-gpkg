{"version":3,"names":["kortxyzMapstyleeditorLayerconfigCss","KortxyzMapstyleeditorLayerconfigStyle0","kortxyzMapstyleeditorLayerconfig","changeStyle","e","this","layerJson","detail","map","globalStore","get","mapStyle","getStyle","layers","layer","id","layerid","setStyle","close","closeConfig","emit","componentWillLoad","find","render","h","Host","key","icon","onClick","doc"],"sources":["src/components/kortxyz-mapstyleeditor-layerconfig/kortxyz-mapstyleeditor-layerconfig.css?tag=kortxyz-mapstyleeditor-layerconfig&encapsulation=shadow","src/components/kortxyz-mapstyleeditor-layerconfig/kortxyz-mapstyleeditor-layerconfig.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n","import { Component, Host, Event, EventEmitter, Listen, Prop, h } from '@stencil/core';\nimport globalStore from '../../utils/store';\n\n@Component({\n  tag: 'kortxyz-mapstyleeditor-layerconfig',\n  styleUrl: 'kortxyz-mapstyleeditor-layerconfig.css',\n  shadow: true,\n})\nexport class kortxyzMapstyleeditorLayerconfig {\n  layerJson;\n  @Prop() layerid: string;\n\n  @Event() closeConfig: EventEmitter<any>;\n\n  @Listen('docChanged')\n  changeStyle(e){\n    this.layerJson = e.detail;\n    const map = globalStore.get(\"activemap\")\n    \n    //map.setPaintProperty(this.layerid, 'fill-color', '#faafee');\n    let mapStyle = map.getStyle()\n    mapStyle.layers = mapStyle.layers.map(layer =>  layer.id === this.layerid ? this.layerJson : layer)\n\n    map.setStyle(mapStyle)\n\n  }\n\n  close() {\n    this.closeConfig.emit();\n  }\n\n  componentWillLoad() {\n    this.layerJson  = globalStore.get(\"style\").layers.find(layer => this.layerid == layer.id)\n  }\n\n  render() {\n    return (\n      <Host>\n        <kortxyz-icon icon=\"back\" onClick={() => this.close()}></kortxyz-icon>\n        <kortxyz-codemirror doc={this.layerJson}></kortxyz-codemirror>\n      </Host>\n    );\n  }\n\n}\n"],"mappings":"6FAAA,MAAMA,EAAsC,uBAC5C,MAAAC,EAAeD,E,MCOFE,EAAgC,M,yFAO3C,WAAAC,CAAYC,GACVC,KAAKC,UAAYF,EAAEG,OACnB,MAAMC,EAAMC,EAAYC,IAAI,aAG5B,IAAIC,EAAWH,EAAII,WACnBD,EAASE,OAASF,EAASE,OAAOL,KAAIM,GAAUA,EAAMC,KAAOV,KAAKW,QAAUX,KAAKC,UAAYQ,IAE7FN,EAAIS,SAASN,E,CAIf,KAAAO,GACEb,KAAKc,YAAYC,M,CAGnB,iBAAAC,GACEhB,KAAKC,UAAaG,EAAYC,IAAI,SAASG,OAAOS,MAAKR,GAAST,KAAKW,SAAWF,EAAMC,I,CAGxF,MAAAQ,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,gBAAAE,IAAA,2CAAcC,KAAK,OAAOC,QAAS,IAAMvB,KAAKa,UAC9CM,EAAA,sBAAAE,IAAA,2CAAoBG,IAAKxB,KAAKC,Y"}