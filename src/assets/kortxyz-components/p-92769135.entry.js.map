{"version":3,"names":["kortxyzMapstyleeditorCss","KortxyzMapstyleeditorStyle0","KortxyzMapstyleeditor","showLayerconfig","layer","this","tabEl","classList","add","configEl","innerHTML","id","showSourceconfig","source","componentWillLoad","style","globalStore","get","onChange","stylesheet","Object","assign","hideConfig","remove","render","h","Host","key","ref","el","for","active","layers","map","onClick","icon","type","entries","sources"],"sources":["src/components/kortxyz-mapstyleeditor/kortxyz-mapstyleeditor.css?tag=kortxyz-mapstyleeditor&encapsulation=shadow","src/components/kortxyz-mapstyleeditor/kortxyz-mapstyleeditor.tsx"],"sourcesContent":[":host {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  color: #333;\n  fill: #333;\n  font: 11px 'Open Sans', 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif\n\n}\n\n.hidden {\n  display: none;\n}\n\nlayer {\n  display: flex;\n  align-items: center;\n  height: 32px;\n}\n\nlayer:hover {\n  cursor: pointer;\n  background: var(--grey-10);\n}\n\n\n::-webkit-scrollbar-track {\n  background-color: var(--grey-30) !important;\n}\n\n::-webkit-scrollbar {\n  width: 4px !important;\n  height: 4px !important;\n}\n\n::-webkit-scrollbar-thumb {\n  background-color: var(--grey-50) !important;\n}","import { Component, Host, State, Element, Listen, h } from '@stencil/core';\n\nimport maplibregl from 'maplibre-gl';\n\nimport globalStore from '../../utils/store';\n\n@Component({\n  tag: 'kortxyz-mapstyleeditor',\n  styleUrl: 'kortxyz-mapstyleeditor.css',\n  shadow: true,\n})\nexport class KortxyzMapstyleeditor {\n  private configEl;\n  private tabEl;\n\n  @Element() layerEl: HTMLElement;\n\n  @State() style: maplibregl.StyleSpecification;\n\n  showLayerconfig(layer) {\n    this.tabEl.classList.add(\"hidden\")\n    this.configEl.innerHTML = `<kortxyz-mapstyleeditor-layerconfig layerid=\"${layer.id}\"></kortxyz-mapstyleeditor-layerconfig>`\n  }\n\n  showSourceconfig(source) {\n    this.tabEl.classList.add(\"hidden\")\n    this.configEl.innerHTML = `<kortxyz-mapstyleeditor-sourceconfig sourceid=\"${source}\"></kortxyz-mapstyleeditor-sourceconfig>`\n  }\n\n  componentWillLoad() {\n    this.style = globalStore.get(\"style\");\n    globalStore.onChange('style', (stylesheet: maplibregl.StyleSpecification) => this.style = { ...stylesheet })\n  }\n\n  @Listen('closeConfig')\n  hideConfig() {\n    this.tabEl.classList.remove(\"hidden\")\n    this.configEl.innerHTML = ``\n  }\n\n  render() {\n    return (\n      <Host>\n        <kortxyz-tab ref={el => this.tabEl = el as HTMLElement}>\n          <kortxyz-tab-link id=\"layers\" for=\"layers\" active>Layers</kortxyz-tab-link>\n          <kortxyz-tab-link id=\"sources\" for=\"sources\">Sources</kortxyz-tab-link>\n\n          <kortxyz-tab-content id=\"layers\" active>\n            {this.style.layers.map((layer) => (\n              <layer onClick={() => this.showLayerconfig(layer)}>\n                <kortxyz-icon icon={layer.type}></kortxyz-icon>\n                {layer.id}\n              </layer>\n            ))}\n          </kortxyz-tab-content>\n\n          <kortxyz-tab-content id=\"sources\">\n            {Object.entries(this.style.sources).map((source) => (\n              <layer onClick={() => this.showSourceconfig(source[0])}>\n                <kortxyz-icon icon={source[1].type}></kortxyz-icon>\n                {source[0]}\n              </layer>\n            ))}\n          </kortxyz-tab-content>\n        </kortxyz-tab>\n\n\n        <config ref={el => this.configEl = el as HTMLElement} ></config>\n\n      </Host>\n    )\n  }\n\n}\n"],"mappings":"6FAAA,MAAMA,EAA2B,2hBACjC,MAAAC,EAAeD,E,MCUFE,EAAqB,M,8CAQhC,eAAAC,CAAgBC,GACdC,KAAKC,MAAMC,UAAUC,IAAI,UACzBH,KAAKI,SAASC,UAAY,gDAAgDN,EAAMO,2C,CAGlF,gBAAAC,CAAiBC,GACfR,KAAKC,MAAMC,UAAUC,IAAI,UACzBH,KAAKI,SAASC,UAAY,kDAAkDG,2C,CAG9E,iBAAAC,GACET,KAAKU,MAAQC,EAAYC,IAAI,SAC7BD,EAAYE,SAAS,SAAUC,GAA8Cd,KAAKU,MAAKK,OAAAC,OAAA,GAAQF,I,CAIjG,UAAAG,GACEjB,KAAKC,MAAMC,UAAUgB,OAAO,UAC5BlB,KAAKI,SAASC,UAAY,E,CAG5B,MAAAc,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,eAAAE,IAAA,2CAAaC,IAAKC,GAAMxB,KAAKC,MAAQuB,GACnCJ,EAAA,oBAAAE,IAAA,2CAAkBhB,GAAG,SAASmB,IAAI,SAASC,OAAM,gBACjDN,EAAA,oBAAAE,IAAA,2CAAkBhB,GAAG,UAAUmB,IAAI,WAAS,WAE5CL,EAAA,uBAAAE,IAAA,2CAAqBhB,GAAG,SAASoB,OAAM,MACpC1B,KAAKU,MAAMiB,OAAOC,KAAK7B,GACtBqB,EAAA,SAAOS,QAAS,IAAM7B,KAAKF,gBAAgBC,IACzCqB,EAAA,gBAAcU,KAAM/B,EAAMgC,OACzBhC,EAAMO,OAKbc,EAAA,uBAAAE,IAAA,2CAAqBhB,GAAG,WACrBS,OAAOiB,QAAQhC,KAAKU,MAAMuB,SAASL,KAAKpB,GACvCY,EAAA,SAAOS,QAAS,IAAM7B,KAAKO,iBAAiBC,EAAO,KACjDY,EAAA,gBAAcU,KAAMtB,EAAO,GAAGuB,OAC7BvB,EAAO,QAOhBY,EAAA,UAAAE,IAAA,2CAAQC,IAAKC,GAAMxB,KAAKI,SAAWoB,I"}