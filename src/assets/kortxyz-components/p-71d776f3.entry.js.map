{"version":3,"names":["kortxyzMapstyleeditorSourceconfigCss","KortxyzMapstyleeditorSourceconfigStyle0","kortxyzMapstyleeditorSourceconfig","changeStyle","e","this","sourceJson","detail","map","globalStore","get","mapStyle","getStyle","sources","sourceid","setStyle","close","closeConfig","emit","componentWillLoad","render","h","Host","key","icon","onClick","doc"],"sources":["src/components/kortxyz-mapstyleeditor-sourceconfig/kortxyz-mapstyleeditor-sourceconfig.css?tag=kortxyz-mapstyleeditor-sourceconfig&encapsulation=shadow","src/components/kortxyz-mapstyleeditor-sourceconfig/kortxyz-mapstyleeditor-sourceconfig.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n","import { Component, Host, Event, EventEmitter, Listen, Prop, h } from '@stencil/core';\nimport globalStore from '../../utils/store';\n\n@Component({\n  tag: 'kortxyz-mapstyleeditor-sourceconfig',\n  styleUrl: 'kortxyz-mapstyleeditor-sourceconfig.css',\n  shadow: true,\n})\nexport class kortxyzMapstyleeditorSourceconfig {\n  sourceJson;\n  @Prop() sourceid: string;\n\n  @Event() closeConfig: EventEmitter<any>;\n\n  @Listen('docChanged')\n  changeStyle(e){\n    this.sourceJson = e.detail;\n    const map = globalStore.get(\"activemap\")\n    \n    //map.setPaintProperty(this.layerid, 'fill-color', '#faafee');\n    let mapStyle = map.getStyle()\n    mapStyle.sources[this.sourceid] = this.sourceJson;\n\n    map.setStyle(mapStyle)\n\n  }\n\n  close() {\n    this.closeConfig.emit();\n  }\n\n  componentWillLoad() {\n    this.sourceJson  = globalStore.get(\"style\").sources[this.sourceid]\n  }\n\n  render() {\n    return (\n      <Host>\n        <kortxyz-icon icon=\"back\" onClick={() => this.close()}></kortxyz-icon>\n        <kortxyz-codemirror doc={this.sourceJson}></kortxyz-codemirror>\n      </Host>\n    );\n  }\n\n}\n"],"mappings":"6FAAA,MAAMA,EAAuC,uBAC7C,MAAAC,EAAeD,E,MCOFE,EAAiC,M,0FAO5C,WAAAC,CAAYC,GACVC,KAAKC,WAAaF,EAAEG,OACpB,MAAMC,EAAMC,EAAYC,IAAI,aAG5B,IAAIC,EAAWH,EAAII,WACnBD,EAASE,QAAQR,KAAKS,UAAYT,KAAKC,WAEvCE,EAAIO,SAASJ,E,CAIf,KAAAK,GACEX,KAAKY,YAAYC,M,CAGnB,iBAAAC,GACEd,KAAKC,WAAcG,EAAYC,IAAI,SAASG,QAAQR,KAAKS,S,CAG3D,MAAAM,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,gBAAAE,IAAA,2CAAcC,KAAK,OAAOC,QAAS,IAAMpB,KAAKW,UAC9CK,EAAA,sBAAAE,IAAA,2CAAoBG,IAAKrB,KAAKC,a"}